{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","nameFilter","handleNameFilterChange","value","onChange","PersonForm","addNumber","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","deletePerson","filteredNumbers","map","person","i","name","number","Person","onClick","Notification","notification","className","Error","error","App","useState","persons","setPersons","setNewName","setNewNumber","setNameFilter","setNotification","setError","useEffect","personService","initialPersons","filter","toLowerCase","includes","event","target","preventDefault","find","window","confirm","changedPerson","returnedPerson","p","setTimeout","catch","concat","console","log","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3b740b8.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  // const request = axios.delete(`${baseUrl}/${id}`);\n  // return request.then((response) => response.data);\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  deletePerson,\n  update,\n};\n","import React, { useEffect, useState } from \"react\";\nimport personService from \"./services/persons\";\nimport \"./index.css\";\n\nconst Filter = ({ nameFilter, handleNameFilterChange }) => {\n  return (\n    <>\n      filter shown with\n      <input value={nameFilter} onChange={handleNameFilterChange} />\n    </>\n  );\n};\n\nconst PersonForm = ({\n  addNumber,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addNumber}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nconst Persons = ({ deletePerson, filteredNumbers }) => {\n  return filteredNumbers.map((person, i) => (\n    // temporary key\n    <Person\n      deletePerson={() => deletePerson(person.id)}\n      key={i}\n      name={person.name}\n      number={person.number}\n    />\n  ));\n};\n\nconst Person = ({ deletePerson, name, number }) => {\n  return (\n    <p>\n      {name} {number} <button onClick={deletePerson}>delete</button>\n    </p>\n  );\n};\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n\n  return <div className=\"notification\">{notification}</div>;\n};\n\nconst Error = ({ error }) => {\n  if (error === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{error}</div>;\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [nameFilter, setNameFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null); // probably should just include error as a notification\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleNameFilterChange = (event) => {\n    setNameFilter(event.target.value);\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((person) => person.id === id);\n    if (window.confirm(`Delete ${person.name} ?`))\n      personService\n        .deletePerson(id)\n        .then((response) => {\n          console.log(response);\n          setPersons(persons.filter((person) => person.id !== id));\n        })\n        .catch((error) => {});\n  };\n\n  const addNumber = (event) => {\n    event.preventDefault();\n    const person = persons.find((person) => person.name === newName);\n    if (!person) {\n      // create\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNotification(`Added ${returnedPerson.name}`);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      });\n    } else {\n      // update potentially\n      if (\n        window.confirm(\n          `${person.name} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const changedPerson = { ...person, number: newNumber };\n\n        personService\n          .update(person.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((p) => (p.id !== person.id ? p : returnedPerson))\n            );\n            setNotification(`Updated ${returnedPerson.name}`);\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setTimeout(() => {\n              setNotification(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            // alert(\n            //   `the person '${person.name}' was already deleted from server`\n            // );\n            setError(\n              `Information of ${person.name} has already been removed from server`\n            );\n            setTimeout(() => {\n              setError(null);\n            }, 5000);\n            setPersons(persons.filter((p) => p.id !== person.id));\n          });\n      }\n    }\n  };\n\n  const filteredNumbers = nameFilter\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(nameFilter.toLowerCase())\n      )\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      {/* one or the other will render atm */}\n      <Notification notification={notification} />\n      <Error error={error} />\n\n      <Filter\n        nameFilter={nameFilter}\n        handleNameFilterChange={handleNameFilterChange}\n      />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        addNumber={addNumber}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons deletePerson={deletePerson} filteredNumbers={filteredNumbers} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}